(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var L;(function(t){t.Chapter="chapter",t.Page="page",t.Root="root"})(L||(L={}));function mt({title:t,parent:e}){if(!t)throw new Error("Cannot have an element-book chapter with an empty title.");return{type:L.Chapter,title:t,parent:e}}const Qt={capitalizeFirstLetter:!1};function Xt(t){return t.length?t[0].toUpperCase()+t.slice(1):""}function Kt(t,e){return e.capitalizeFirstLetter?Xt(t):t}function er(t,e=Qt){const r=t.toLowerCase();if(!r.length)return"";const s=r.replace(/^-+/,"").replace(/-{2,}/g,"-").replace(/-(?:.|$)/g,n=>{const i=n[1];return i?i.toUpperCase():""});return Kt(s,e)}function Ue(t){return t!==t.toUpperCase()}function tr(t){return t.split("").reduce((r,s,n,i)=>{const o=n>0?i[n-1]:"",a=n<i.length-1?i[n+1]:"",l=Ue(o)||Ue(a);return s===s.toLowerCase()||n===0||!l?r+=s:r+=`-${s.toLowerCase()}`,r},"").toLowerCase()}const rr=["january","february","march","april","may","june","july","august","september","october","november","december"];rr.map(t=>t.slice(0,3));function yt(t){return t?t instanceof Error?t.message:String(t):""}function ke(t){return t instanceof Error?t:new Error(yt(t))}function De(t){return!!t&&typeof t=="object"}const Ve="Failed to compare objects using JSON.stringify";function ze(t,e){return JSON.stringify(t)===JSON.stringify(e)}function Re(t,e){try{return t===e?!0:De(t)&&De(e)?ze(Object.keys(t).sort(),Object.keys(e).sort())?Object.keys(t).every(s=>Re(t[s],e[s])):!1:ze(t,e)}catch(r){const s=ke(r);throw s.message.startsWith(Ve)||(s.message=`${Ve}: ${s.message}`),s}}const sr=[(t,e)=>e in t,(t,e)=>e in t.constructor.prototype];function vt(t,e){return t?sr.some(r=>{try{return r(t,e)}catch{return!1}}):!1}function nr(t,e){return t&&e.every(r=>vt(t,r))}function B(t){let e;try{e=Reflect.ownKeys(t)}catch{}return e??[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function G(t,e){let r=!1;const s=B(t).reduce((n,i)=>{const o=e(i,t[i],t);return o instanceof Promise&&(r=!0),{...n,[i]:o}},{});return r?new Promise(async(n,i)=>{try{await Promise.all(B(s).map(async o=>{const a=await s[o];s[o]=a})),n(s)}catch(o){i(o)}}):s}function Ne(){let t,e,r=!1;const s=new Promise((n,i)=>{t=o=>(r=!0,n(o)),e=o=>{r=!0,i(o)}});if(!t||!e)throw new Error(`Reject and resolve callbacks were not set by the promise constructor for ${Ne.name}.`);return{promise:s,resolve:t,reject:e,isSettled(){return r}}}function ir(t,e){try{return or(t,e),!0}catch{return!1}}function or(t,e,r){if(t.length<e)throw new Error(r?`'${r}' is not at least '${e}' in length.`:`Array is not at least '${e}' in length.`)}function ar(t,e){return t.entry.type===e}function lr(){return{entry:{type:L.Root,title:"element book tree root",parent:void 0},children:{}}}function cr(t){const e=lr();return t.forEach(r=>{const s=ur(r,e);if(r.title in s.children)throw new Error(`Cannot create duplicate entry titled '${r.title}' in parent '${s.entry.title}'.`);const n={children:{},entry:r};s.children[r.title]=n}),e}function ur(t,e){return K(t).reverse().reduce((n,i)=>{const o=n.children[i];if(!o)throw new Error(`Failed to find parent ElementBookEntry by name of '${i}' in entry '${n.entry.title}'`);return o},e)}function K(t,e){return t.parent?[t.parent.title,...K(t.parent,!1)].concat(e?[t.title]:[]):e?[t.title]:[]}function gt(t,e){if(!ir(t,1))return e;const r=t[0],s=e.children[r];if(!s)throw new Error(`Failed to find '${e.entry.title}' > '${r}'.`);return gt(t.slice(1),s)}function We(t){if(!t.title)throw new Error("Cannot have an element-book page with an empty title.");const e={type:L.Page,...t},r=K(e,!0),s=new Set;return t.examples.forEach(n=>{const i=`Failed to define example '${r.concat(n.title).join(" > ")}'`;if(s.has(n.title))throw new Error(`${i}: example title '${n.title}' is already being used.`);if(!n.title)throw new Error(`${i}: example title is missing or empty.`);s.add(n.title)}),e}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Le={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},He=t=>(...e)=>({_$litDirective$:t,values:e});let oe=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,s){this._$Ct=e,this._$AM=r,this._$Ci=s}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ue;const ne=window,U=ne.trustedTypes,Fe=U?U.createPolicy("lit-html",{createHTML:t=>t}):void 0,Ee="$lit$",A=`lit$${(Math.random()+"").slice(9)}$`,$t="?"+A,dr=`<${$t}>`,D=document,Z=()=>D.createComment(""),Y=t=>t===null||typeof t!="object"&&typeof t!="function",wt=Array.isArray,hr=t=>wt(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",de=`[ 	
\f\r]`,W=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ie=/-->/g,qe=/>/g,k=RegExp(`>|${de}(?:([^\\s"'>=/]+)(${de}*=${de}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Je=/'/g,Ge=/"/g,bt=/^(?:script|style|textarea|title)$/i,fr=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),pr=fr(1),S=Symbol.for("lit-noChange"),p=Symbol.for("lit-nothing"),Ze=new WeakMap,j=D.createTreeWalker(D,129,null,!1),mr=(t,e)=>{const r=t.length-1,s=[];let n,i=e===2?"<svg>":"",o=W;for(let l=0;l<r;l++){const c=t[l];let d,u,f=-1,m=0;for(;m<c.length&&(o.lastIndex=m,u=o.exec(c),u!==null);)m=o.lastIndex,o===W?u[1]==="!--"?o=Ie:u[1]!==void 0?o=qe:u[2]!==void 0?(bt.test(u[2])&&(n=RegExp("</"+u[2],"g")),o=k):u[3]!==void 0&&(o=k):o===k?u[0]===">"?(o=n??W,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,d=u[1],o=u[3]===void 0?k:u[3]==='"'?Ge:Je):o===Ge||o===Je?o=k:o===Ie||o===qe?o=W:(o=k,n=void 0);const y=o===k&&t[l+1].startsWith("/>")?" ":"";i+=o===W?c+dr:f>=0?(s.push(d),c.slice(0,f)+Ee+c.slice(f)+A+y):c+A+(f===-2?(s.push(void 0),l):y)}const a=i+(t[r]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[Fe!==void 0?Fe.createHTML(a):a,s]};class Q{constructor({strings:e,_$litType$:r},s){let n;this.parts=[];let i=0,o=0;const a=e.length-1,l=this.parts,[c,d]=mr(e,r);if(this.el=Q.createElement(c,s),j.currentNode=this.el.content,r===2){const u=this.el.content,f=u.firstChild;f.remove(),u.append(...f.childNodes)}for(;(n=j.nextNode())!==null&&l.length<a;){if(n.nodeType===1){if(n.hasAttributes()){const u=[];for(const f of n.getAttributeNames())if(f.endsWith(Ee)||f.startsWith(A)){const m=d[o++];if(u.push(f),m!==void 0){const y=n.getAttribute(m.toLowerCase()+Ee).split(A),v=/([.?@])?(.*)/.exec(m);l.push({type:1,index:i,name:v[2],strings:y,ctor:v[1]==="."?vr:v[1]==="?"?$r:v[1]==="@"?wr:ae})}else l.push({type:6,index:i})}for(const f of u)n.removeAttribute(f)}if(bt.test(n.tagName)){const u=n.textContent.split(A),f=u.length-1;if(f>0){n.textContent=U?U.emptyScript:"";for(let m=0;m<f;m++)n.append(u[m],Z()),j.nextNode(),l.push({type:2,index:++i});n.append(u[f],Z())}}}else if(n.nodeType===8)if(n.data===$t)l.push({type:2,index:i});else{let u=-1;for(;(u=n.data.indexOf(A,u+1))!==-1;)l.push({type:7,index:i}),u+=A.length-1}i++}}static createElement(e,r){const s=D.createElement("template");return s.innerHTML=e,s}}function V(t,e,r=t,s){var n,i,o,a;if(e===S)return e;let l=s!==void 0?(n=r._$Co)===null||n===void 0?void 0:n[s]:r._$Cl;const c=Y(e)?void 0:e._$litDirective$;return(l==null?void 0:l.constructor)!==c&&((i=l==null?void 0:l._$AO)===null||i===void 0||i.call(l,!1),c===void 0?l=void 0:(l=new c(t),l._$AT(t,r,s)),s!==void 0?((o=(a=r)._$Co)!==null&&o!==void 0?o:a._$Co=[])[s]=l:r._$Cl=l),l!==void 0&&(e=V(t,l._$AS(t,e.values),l,s)),e}let yr=class{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var r;const{el:{content:s},parts:n}=this._$AD,i=((r=e==null?void 0:e.creationScope)!==null&&r!==void 0?r:D).importNode(s,!0);j.currentNode=i;let o=j.nextNode(),a=0,l=0,c=n[0];for(;c!==void 0;){if(a===c.index){let d;c.type===2?d=new ee(o,o.nextSibling,this,e):c.type===1?d=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(d=new br(o,this,e)),this._$AV.push(d),c=n[++l]}a!==(c==null?void 0:c.index)&&(o=j.nextNode(),a++)}return i}v(e){let r=0;for(const s of this._$AV)s!==void 0&&(s.strings!==void 0?(s._$AI(e,s,r),r+=s.strings.length-2):s._$AI(e[r])),r++}};class ee{constructor(e,r,s,n){var i;this.type=2,this._$AH=p,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=s,this.options=n,this._$Cp=(i=n==null?void 0:n.isConnected)===null||i===void 0||i}get _$AU(){var e,r;return(r=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=V(this,e,r),Y(e)?e===p||e==null||e===""?(this._$AH!==p&&this._$AR(),this._$AH=p):e!==this._$AH&&e!==S&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):hr(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==p&&Y(this._$AH)?this._$AA.nextSibling.data=e:this.$(D.createTextNode(e)),this._$AH=e}g(e){var r;const{values:s,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Q.createElement(n.h,this.options)),n);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===i)this._$AH.v(s);else{const o=new yr(i,this),a=o.u(this.options);o.v(s),this.$(a),this._$AH=o}}_$AC(e){let r=Ze.get(e.strings);return r===void 0&&Ze.set(e.strings,r=new Q(e)),r}T(e){wt(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let s,n=0;for(const i of e)n===r.length?r.push(s=new ee(this.k(Z()),this.k(Z()),this,this.options)):s=r[n],s._$AI(i),n++;n<r.length&&(this._$AR(s&&s._$AB.nextSibling,n),r.length=n)}_$AR(e=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);e&&e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){var r;this._$AM===void 0&&(this._$Cp=e,(r=this._$AP)===null||r===void 0||r.call(this,e))}}class ae{constructor(e,r,s,n,i){this.type=1,this._$AH=p,this._$AN=void 0,this.element=e,this.name=r,this._$AM=n,this.options=i,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=p}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,r=this,s,n){const i=this.strings;let o=!1;if(i===void 0)e=V(this,e,r,0),o=!Y(e)||e!==this._$AH&&e!==S,o&&(this._$AH=e);else{const a=e;let l,c;for(e=i[0],l=0;l<i.length-1;l++)c=V(this,a[s+l],r,l),c===S&&(c=this._$AH[l]),o||(o=!Y(c)||c!==this._$AH[l]),c===p?e=p:e!==p&&(e+=(c??"")+i[l+1]),this._$AH[l]=c}o&&!n&&this.j(e)}j(e){e===p?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class vr extends ae{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===p?void 0:e}}const gr=U?U.emptyScript:"";class $r extends ae{constructor(){super(...arguments),this.type=4}j(e){e&&e!==p?this.element.setAttribute(this.name,gr):this.element.removeAttribute(this.name)}}class wr extends ae{constructor(e,r,s,n,i){super(e,r,s,n,i),this.type=5}_$AI(e,r=this){var s;if((e=(s=V(this,e,r,0))!==null&&s!==void 0?s:p)===S)return;const n=this._$AH,i=e===p&&n!==p||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,o=e!==p&&(n===p||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r,s;typeof this._$AH=="function"?this._$AH.call((s=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&s!==void 0?s:this.element,e):this._$AH.handleEvent(e)}}class br{constructor(e,r,s){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(e){V(this,e)}}const Ye=ne.litHtmlPolyfillSupport;Ye==null||Ye(Q,ee),((ue=ne.litHtmlVersions)!==null&&ue!==void 0?ue:ne.litHtmlVersions=[]).push("2.7.3");const _r=(t,e,r)=>{var s,n;const i=(s=r==null?void 0:r.renderBefore)!==null&&s!==void 0?s:e;let o=i._$litPart$;if(o===void 0){const a=(n=r==null?void 0:r.renderBefore)!==null&&n!==void 0?n:null;i._$litPart$=o=new ee(e.insertBefore(Z(),a),a,void 0,r??{})}return o._$AI(t),o};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _t=He(class extends oe{constructor(t){var e;if(super(t),t.type!==Le.ATTRIBUTE||t.name!=="class"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,s;if(this.it===void 0){this.it=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in e)e[i]&&!(!((r=this.nt)===null||r===void 0)&&r.has(i))&&this.it.add(i);return this.render(e)}const n=t.element.classList;this.it.forEach(i=>{i in e||(n.remove(i),this.it.delete(i))});for(const i in e){const o=!!e[i];o===this.it.has(i)||!((s=this.nt)===null||s===void 0)&&s.has(i)||(o?(n.add(i),this.it.add(i)):(n.remove(i),this.it.delete(i)))}return S}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Se=class extends oe{constructor(e){if(super(e),this.et=p,e.type!==Le.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===p||e==null)return this.ft=void 0,this.et=e;if(e===S)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;const r=[e];return r.raw=r,this.ft={_$litType$:this.constructor.resultType,strings:r,values:[]}}};Se.directiveName="unsafeHTML",Se.resultType=1;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Qe=class extends Se{};Qe.directiveName="unsafeSVG",Qe.resultType=2;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Er(t,e,r){return t?e():r==null?void 0:r()}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const se=window,Me=se.ShadowRoot&&(se.ShadyCSS===void 0||se.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Oe=Symbol(),Xe=new WeakMap;let Et=class{constructor(e,r,s){if(this._$cssResult$=!0,s!==Oe)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(Me&&e===void 0){const s=r!==void 0&&r.length===1;s&&(e=Xe.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),s&&Xe.set(r,e))}return e}toString(){return this.cssText}};const X=t=>new Et(typeof t=="string"?t:t+"",void 0,Oe),St=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((s,n,i)=>s+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[i+1],t[0]);return new Et(r,t,Oe)},Sr=(t,e)=>{Me?t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):e.forEach(r=>{const s=document.createElement("style"),n=se.litNonce;n!==void 0&&s.setAttribute("nonce",n),s.textContent=r.cssText,t.appendChild(s)})},Ke=Me?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const s of e.cssRules)r+=s.cssText;return X(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var he;const ie=window,et=ie.trustedTypes,Ar=et?et.emptyScript:"",tt=ie.reactiveElementPolyfillSupport,Ae={toAttribute(t,e){switch(e){case Boolean:t=t?Ar:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},At=(t,e)=>e!==t&&(e==e||t==t),fe={attribute:!0,type:String,converter:Ae,reflect:!1,hasChanged:At};class H extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var r;this.finalize(),((r=this.h)!==null&&r!==void 0?r:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((r,s)=>{const n=this._$Ep(s,r);n!==void 0&&(this._$Ev.set(n,s),e.push(n))}),e}static createProperty(e,r=fe){if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(e,r),!r.noAccessor&&!this.prototype.hasOwnProperty(e)){const s=typeof e=="symbol"?Symbol():"__"+e,n=this.getPropertyDescriptor(e,s,r);n!==void 0&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,r,s){return{get(){return this[r]},set(n){const i=this[e];this[r]=n,this.requestUpdate(e,i,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||fe}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const r=this.properties,s=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(const n of s)this.createProperty(n,r[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const s=new Set(e.flat(1/0).reverse());for(const n of s)r.unshift(Ke(n))}else e!==void 0&&r.push(Ke(e));return r}static _$Ep(e,r){const s=r.attribute;return s===!1?void 0:typeof s=="string"?s:typeof e=="string"?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(r=>r(this))}addController(e){var r,s;((r=this._$ES)!==null&&r!==void 0?r:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((s=e.hostConnected)===null||s===void 0||s.call(e))}removeController(e){var r;(r=this._$ES)===null||r===void 0||r.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,r)=>{this.hasOwnProperty(r)&&(this._$Ei.set(r,this[r]),delete this[r])})}createRenderRoot(){var e;const r=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Sr(r,this.constructor.elementStyles),r}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(r=>{var s;return(s=r.hostConnected)===null||s===void 0?void 0:s.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(r=>{var s;return(s=r.hostDisconnected)===null||s===void 0?void 0:s.call(r)})}attributeChangedCallback(e,r,s){this._$AK(e,s)}_$EO(e,r,s=fe){var n;const i=this.constructor._$Ep(e,s);if(i!==void 0&&s.reflect===!0){const o=(((n=s.converter)===null||n===void 0?void 0:n.toAttribute)!==void 0?s.converter:Ae).toAttribute(r,s.type);this._$El=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$El=null}}_$AK(e,r){var s;const n=this.constructor,i=n._$Ev.get(e);if(i!==void 0&&this._$El!==i){const o=n.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((s=o.converter)===null||s===void 0?void 0:s.fromAttribute)!==void 0?o.converter:Ae;this._$El=i,this[i]=a.fromAttribute(r,o.type),this._$El=null}}requestUpdate(e,r,s){let n=!0;e!==void 0&&(((s=s||this.constructor.getPropertyOptions(e)).hasChanged||At)(this[e],r)?(this._$AL.has(e)||this._$AL.set(e,r),s.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,s))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((n,i)=>this[i]=n),this._$Ei=void 0);let r=!1;const s=this._$AL;try{r=this.shouldUpdate(s),r?(this.willUpdate(s),(e=this._$ES)===null||e===void 0||e.forEach(n=>{var i;return(i=n.hostUpdate)===null||i===void 0?void 0:i.call(n)}),this.update(s)):this._$Ek()}catch(n){throw r=!1,this._$Ek(),n}r&&this._$AE(s)}willUpdate(e){}_$AE(e){var r;(r=this._$ES)===null||r===void 0||r.forEach(s=>{var n;return(n=s.hostUpdated)===null||n===void 0?void 0:n.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((r,s)=>this._$EO(s,this[s],r)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}H.finalized=!0,H.elementProperties=new Map,H.elementStyles=[],H.shadowRootOptions={mode:"open"},tt==null||tt({ReactiveElement:H}),((he=ie.reactiveElementVersions)!==null&&he!==void 0?he:ie.reactiveElementVersions=[]).push("1.6.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var pe,me;class F extends H{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,r;const s=super.createRenderRoot();return(e=(r=this.renderOptions).renderBefore)!==null&&e!==void 0||(r.renderBefore=s.firstChild),s}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=_r(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return S}}F.finalized=!0,F._$litElement$=!0,(pe=globalThis.litElementHydrateSupport)===null||pe===void 0||pe.call(globalThis,{LitElement:F});const rt=globalThis.litElementPolyfillSupport;rt==null||rt({LitElement:F});((me=globalThis.litElementVersions)!==null&&me!==void 0?me:globalThis.litElementVersions=[]).push("3.3.2");var Cr=globalThis&&globalThis.__esDecorate||function(t,e,r,s,n,i){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?s.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),u,f=!1,m=r.length-1;m>=0;m--){var y={};for(var v in s)y[v]=v==="access"?{}:s[v];for(var v in s.access)y.access[v]=s.access[v];y.addInitializer=function(T){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(T||null))};var E=(0,r[m])(a==="accessor"?{get:d.get,set:d.set}:d[l],y);if(a==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(u=o(E.get))&&(d.get=u),(u=o(E.set))&&(d.set=u),(u=o(E.init))&&n.push(u)}else(u=o(E))&&(a==="field"?n.push(u):d[l]=u)}c&&Object.defineProperty(c,s.name,d),f=!0},Pr=globalThis&&globalThis.__runInitializers||function(t,e,r){for(var s=arguments.length>2,n=0;n<e.length;n++)r=s?e[n].call(t,r):e[n].call(t);return s?r:void 0},xr=globalThis&&globalThis.__setFunctionName||function(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})};function Tr(){function t(e,r){return e}return t}let Ct=(()=>{let t=[Tr()],e,r=[],s;return s=class extends F{},xr(s,"DeclarativeElement"),Cr(null,e={value:s},t,{kind:"class",name:s.name},null,r),s=e.value,Pr(s,r),s})();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const kr=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(r){r.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(r){r.createProperty(e.key,t)}};function Pt(t){return(e,r)=>r!==void 0?((s,n,i)=>{n.constructor.createProperty(i,s)})(t,e,r):kr(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ye;((ye=window.HTMLSlotElement)===null||ye===void 0?void 0:ye.prototype.assignedElements)!=null;const Ce=Symbol("this-is-an-element-vir-declarative-element"),je=Symbol("key for ignoring inputs not having been set yet"),Rr={[je]:!0};function xt(t,e){const r=t.instanceState;B(e).forEach(s=>{if(r&&s in r)throw new Error(`Cannot set input '${s}' on '${t.tagName}'. '${t.tagName}' already has a state property with the same name.`);Pt()(t,s),"instanceInputs"in t?t.instanceInputs[s]=e[s]:t[s]=e[s]}),Tt(t)}function Tt(t){t.haveInputsBeenSet||(t.haveInputsBeenSet=!0)}function kt(t,e){return Nr(t,e),t.element}function Nr(t,e){if(t.type!==Le.ELEMENT)throw new Error(`${e} directive can only be attached directly to an element.`);if(!t.element)throw new Error(`${e} directive found no element.`)}function P(t,e){return e?st(t,e):st(void 0,t)}const st=He(class extends oe{constructor(t){super(t),this.element=kt(t,"assign")}render(t,e){return Lr(t,this.element,e),S}});function Lr(t,e,r){xt(e,r)}function Rt(t){const e=t.getRootNode();if(!(e instanceof ShadowRoot))return!1;const r=e.host;return r instanceof Ct?!0:Rt(r)}function Nt(t,e){return`${t}-${tr(e)}`}function Hr(t,e){return e?G(e,r=>X(`--${Nt(t,String(r))}`)):{}}function Mr(t,e){return t?G(t,(r,s)=>{const n=e[r];return X(`var(${n}, ${s})`)}):{}}class Or extends CustomEvent{get type(){return this._type}constructor(e,r){super(typeof e=="string"?e:e.type,{detail:r,bubbles:!0,composed:!0}),this._type=""}}function Lt(){return t=>{var e;return e=class extends Or{constructor(r){super(t,r),this._type=t}},e.type=t,e}}function jr(t){return t?Object.keys(t).filter(e=>{if(typeof e!="string")throw new Error(`Expected event key of type string but got type "${typeof e}" for key ${String(e)}`);if(e==="")throw new Error("Got empty string for events key.");return!0}).reduce((e,r)=>{const s=Lt()(r);return e[r]=s,e},{}):{}}var h=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)},_=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r},g,R,C,N,O,M,b,I,Pe,xe,q;const Ht=Symbol("element-vir-async-state-marker"),w=Symbol("not set");class Br{constructor(e,r){g.add(this),R.set(this,w),C.set(this,w),N.set(this,w),O.set(this,[]),M.set(this,void 0),b.set(this,Ne()),this.asyncMarkerSymbol=Ht,this.addSettleListener(r),this.resetValue(e)}resetValue(e){e instanceof Mt&&(e=e.initialValue),h(this,g,"m",q).call(this),e!==w&&(e instanceof Promise?this.setValue({newPromise:e}):this.setValue({resolvedValue:e}))}setValue(e){if("createPromise"in e){if(h(this,R,"f")===w||!Re(e.trigger,h(this,R,"f"))){_(this,R,e.trigger,"f");const r=e.createPromise();h(this,g,"m",Pe).call(this,r)}}else"newPromise"in e?(h(this,R,"f"),h(this,g,"m",Pe).call(this,e.newPromise),h(this,g,"m",I).call(this)):"resolvedValue"in e?h(this,g,"m",xe).call(this,e.resolvedValue):"forceUpdate"in e?(_(this,R,w,"f"),_(this,C,w,"f"),h(this,b,"f").isSettled()||h(this,b,"f").reject("Canceled by force update"),h(this,g,"m",q).call(this),h(this,g,"m",I).call(this)):this.resetValue(e)}getValue(){if(h(this,b,"f").isSettled()){if(h(this,N,"f")!==w)return h(this,N,"f");if(h(this,C,"f")===w)throw new Error("Promise says it has settled but resolution value was not set!");return h(this,C,"f")}else return h(this,b,"f").promise}addSettleListener(e){h(this,O,"f").push(e)}removeSettleListener(e){_(this,O,h(this,O,"f").filter(r=>r!==e),"f")}}R=new WeakMap,C=new WeakMap,N=new WeakMap,O=new WeakMap,M=new WeakMap,b=new WeakMap,g=new WeakSet,I=function(){h(this,O,"f").forEach(e=>{e(this)})},Pe=function(e){e!==h(this,M,"f")&&(_(this,C,w,"f"),_(this,N,w,"f"),_(this,M,e,"f"),h(this,b,"f").isSettled()&&h(this,g,"m",q).call(this),e.then(r=>{h(this,M,"f")===e&&h(this,g,"m",xe).call(this,r)}).catch(r=>{h(this,M,"f")===e&&(_(this,N,ke(r),"f"),h(this,b,"f").promise.catch(()=>{}),h(this,b,"f").reject(r),h(this,g,"m",I).call(this))}))},xe=function(e){e!==h(this,C,"f")&&(_(this,N,w,"f"),_(this,C,e,"f"),h(this,b,"f").isSettled()&&h(this,g,"m",q).call(this),h(this,b,"f").resolve(e),h(this,g,"m",I).call(this))},q=function(){_(this,b,Ne(),"f")};class Mt{constructor(e){this.initialValue=e,this.asyncMarkerSymbol=Ht}}function nt(t,e,r){if(typeof t!="string"&&typeof t!="number"&&typeof t!="symbol")throw new Error(`Property name must be a string, got type '${typeof t}' from: '${String(t)}' for '${r.toLowerCase()}'`);if(!(t in e))throw new Error(`Property '${String(t)}' does not exist on '${r.toLowerCase()}'.`)}function it(t,e){const r=t;function s(i,o){e&&nt(o,t,t.tagName);const a=t.asyncStateHandlerMap[o];return a?a.getValue():r[o]}return new Proxy({},{get:s,set:(i,o,a)=>{e&&nt(o,t,t.tagName),i[o]=a;const l=t.asyncStateHandlerMap[o];if(a instanceof Mt)if(l)l.resetValue(a);else{const c=new Br(a,d=>{t[o]=d.getValue()});t.asyncStateHandlerMap[o]=c}else l?l.setValue(a):r[o]=a;return!0},ownKeys:i=>Reflect.ownKeys(i),getOwnPropertyDescriptor(i,o){if(o in i)return{get value(){return s(i,o)},configurable:!0,enumerable:!0}},has:(i,o)=>Reflect.has(i,o)})}function Ur(t,e){return e?G(e,r=>Nt(t,String(r))):{}}function Dr({hostClassNames:t,cssVarNames:e,cssVarValues:r}){return{hostClassSelectors:G(t,(s,n)=>X(`:host(.${n})`)),hostClassNames:G(t,(s,n)=>X(n)),cssVarNames:e,cssVarValues:r}}function Vr({host:t,hostClassesInit:e,hostClassNames:r,state:s,inputs:n}){e&&B(e).forEach(i=>{const o=e[i],a=r[i];typeof o=="function"&&(o({state:s,inputs:n})?t.classList.add(a):t.classList.remove(a))})}function zr(t,e){function r(n){B(n).forEach(i=>{const o=n[i];t.instanceState[i]=o})}return{dispatch:n=>t.dispatchEvent(n),updateState:r,inputs:t.instanceInputs,host:t,state:t.instanceState,events:e}}var Wr=globalThis&&globalThis.__setFunctionName||function(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})};function le(t){var e;if(!t.renderCallback||typeof t.renderCallback=="string")throw new Error(`Failed to define element '${t.tagName}': renderCallback is not a function`);const r=jr(t.events),s=Ur(t.tagName,t.hostClasses),n=Hr(t.tagName,t.cssVars),i=Mr(t.cssVars,n),o={...Rr,...t.options},a=typeof t.styles=="function"?t.styles(Dr({hostClassNames:s,cssVarNames:n,cssVarValues:i})):t.styles||St``,l=t.renderCallback,c=(e=class extends Ct{createRenderParams(){return zr(this,r)}get instanceType(){throw new Error(`"instanceType" was called on ${t.tagName} as a value but it is only for types.`)}static get inputsType(){throw new Error(`"inputsType" was called on ${t.tagName} as a value but it is only for types.`)}static get stateType(){throw new Error(`"stateType" was called on ${t.tagName} as a value but it is only for types.`)}markInputsAsHavingBeenSet(){Tt(this)}render(){try{Rt(this)&&!this.haveInputsBeenSet&&!o[je]&&console.warn(this,`${t.tagName} got rendered before its input object was set. This was most likely caused by forgetting to use the "${P.name}" directive on it. If no inputs are intended, use "${le.name}" to define ${t.tagName}.`),this.hasRendered=!0;const d=this.createRenderParams();!this.initCalled&&t.initCallback&&(this.initCalled=!0,t.initCallback(d));const u=l(d);return Vr({host:d.host,hostClassesInit:t.hostClasses,hostClassNames:s,state:d.state,inputs:d.inputs}),this.lastRenderedProps={inputs:{...d.inputs},state:{...d.state}},u}catch(d){const u=ke(d);throw u.message=`Failed to render '${t.tagName}': ${u.message}`,u}}connectedCallback(){if(super.connectedCallback(),this.hasRendered&&!this.initCalled&&t.initCallback){this.initCalled=!0;const d=this.createRenderParams();t.initCallback(d)}}disconnectedCallback(){if(super.disconnectedCallback(),t.cleanupCallback){const d=this.createRenderParams();t.cleanupCallback(d)}this.initCalled=!1}assignInputs(d){xt(this,d)}constructor(){super(),this.initCalled=!1,this.hasRendered=!1,this.lastRenderedProps=void 0,this.haveInputsBeenSet=!1,this.definition={},this.asyncStateHandlerMap={},this.instanceInputs=it(this,!1),this.instanceState=it(this,!0);const d=t.stateInit||{};B(d).forEach(u=>{Pt()(this,u),this.instanceState[u]=d[u]}),this.definition=c}},Wr(e,"anonymousClass"),e.tagName=t.tagName,e.styles=a,e.isStrictInstance=()=>!1,e.events=r,e.renderCallback=l,e.hostClasses=s,e.cssVarNames=n,e.stateInit=t.stateInit,e.cssVarValues=n,e);return Object.defineProperties(c,{[Ce]:{value:!0,writable:!1},name:{value:er(t.tagName,{capitalizeFirstLetter:!0}),writable:!0},isStrictInstance:{value:d=>d instanceof c,writable:!1}}),window.customElements.get(t.tagName)?console.warn(`Tried to define custom element '${t.tagName}' but it is already defined.`):window.customElements.define(t.tagName,c),c}function Ot(){return t=>le({...t,options:{[je]:!1},...t.options})}function Be(t,e){return Fr(t,e)}const Fr=He(class extends oe{constructor(t){super(t),this.element=kt(t,"listen")}resetListener(t){this.lastListenerMetaData&&this.element.removeEventListener(this.lastListenerMetaData.eventType,this.lastListenerMetaData.listener),this.element.addEventListener(t.eventType,t.listener),this.lastListenerMetaData=t}createListenerMetaData(t,e){return{eventType:t,callback:e,listener:r=>{var s;return(s=this.lastListenerMetaData)==null?void 0:s.callback(r)}}}render(t,e){const r=typeof t=="string"?t:t.type;if(typeof r!="string")throw new Error(`Cannot listen to an event with a name that is not a string. Given event name: "${r}"`);return this.lastListenerMetaData&&this.lastListenerMetaData.eventType===r?this.lastListenerMetaData.callback=e:this.resetListener(this.createListenerMetaData(r,e)),S}});function jt(t,e,r){return Er(t,()=>e,()=>r)}function Ir(t){const{assertInputs:e,transformInputs:r}={assertInputs:(t==null?void 0:t.assertInputs)??(()=>{}),transformInputs:(t==null?void 0:t.transformInputs)??(s=>s)};return{defineElement:()=>s=>(e(s),Ot()(r(s))),defineElementNoInputs:s=>(e(s),le(r(s)))}}function qr(t,e){return t.filter((r,s)=>!e.includes(s))}function Bt(t){return t.filter(e=>nr(e,["tagName",Ce])&&!!e.tagName&&!!e[Ce])}const Ut=new WeakMap;function Jr(t,e){var n;const r=Bt(e);return(n=Dt(Ut,[t,...r]).value)==null?void 0:n.template}function Gr(t,e,r){const s=Bt(e);return zt(Ut,[t,...s],r)}function Dt(t,e,r=0){const{currentTemplateAndNested:s,reason:n}=Vt(t,e,r);return s?r===e.length-1?{value:s,reason:"reached end of keys array"}:s.nested?Dt(s.nested,e,r+1):{value:void 0,reason:`map at key index ${r} did not have nested maps`}:{value:s,reason:n}}function Vt(t,e,r){const s=e[r];if(s==null)return{currentKey:void 0,currentTemplateAndNested:void 0,reason:`key at index ${r} not found`};if(!t.has(s))return{currentKey:s,currentTemplateAndNested:void 0,reason:`key at index ${r} was not in the map`};const n=t.get(s);return n==null?{currentKey:s,currentTemplateAndNested:void 0,reason:`value at key at index ${r} was undefined`}:{currentKey:s,currentTemplateAndNested:n,reason:"key and value exists"}}function zt(t,e,r,s=0){const{currentTemplateAndNested:n,currentKey:i,reason:o}=Vt(t,e,s);if(!i)return{result:!1,reason:o};const a=n??{nested:void 0,template:void 0};if(n||t.set(i,a),s===e.length-1)return a.template=r,{result:!0,reason:"set value at end of keys array"};const l=a.nested??new WeakMap;return a.nested||(a.nested=l),zt(l,e,r,s+1)}function Wt(t,e,r){return{name:t,check:e,transform:r}}const Zr=new WeakMap;function Ft(t,e,r){const s=Jr(t,e),n=s??r();if(!s){const o=Gr(t,e,n);if(o.result)Zr.set(t,n);else throw new Error(`Failed to set template transform: ${o.reason}`)}const i=qr(e,n.valueIndexDeletions);return{strings:n.templateStrings,values:i}}function It(t,e,r,s){const n=[],i=[],o=[];return t.forEach((l,c)=>{var E;const d=n.length-1,u=n[d],f=c-1,m=e[f];let y;s&&s(l),typeof u=="string"&&(y=(E=r.find(T=>T.check(u,l,m)))==null?void 0:E.transform,y&&(n[d]=u+y(m)+l,o.push(f))),y||n.push(l);const v=t.raw[c];y?i[d]=i[d]+y(m)+v:i.push(v)}),{templateStrings:Object.assign([],n,{raw:i}),valueIndexDeletions:o}}function qt(t){return vt(t,"tagName")&&typeof t.tagName=="string"&&t.tagName.includes("-")}const Yr=[Wt("tag name css selector interpolation",(t,e,r)=>qt(r),t=>t.tagName)];function Qr(t,e){return It(t,e,Yr)}function x(t,...e){const r=Ft(t,e,()=>Qr(t,e));return St(r.strings,...r.values)}const Xr=[Wt("tag name interpolation",(t,e,r)=>{const s=t.trim().endsWith("<")&&!!e.match(/^[\s\n>]/)||(t==null?void 0:t.trim().endsWith("</"))&&e.trim().startsWith(">"),n=qt(r);if(s&&!n)throw console.error({lastNewString:t,currentLitString:e,currentValue:r}),new Error(`Got interpolated tag name but it wasn't of type VirElement: '${r.prototype.constructor.name}'`);return s&&n},t=>t.tagName)];function Kr(t){}function es(t){return It(t.strings,t.values,Xr,Kr)}function $(t,...e){const r=pr(t,...e),s=Ft(t,e,()=>es(r));return{...r,strings:s.strings,values:s.values}}function ts(t){let e;return Te(t,r=>{if(ar(r,L.Page))return e=r,!1}),e?K(e.entry).concat(e.entry.title):[]}function Te(t,e){function r(){const s=e(t);if(s===!1)return!1;let n=!1;if(s instanceof Promise)return new Promise(async(i,o)=>{try{return await s===!1?void 0:(await Promise.all(Object.values(t.children).map(async l=>{if(n)return!1;const c=await Te(l,e);return c===!1?(n=!0,!1):c})),n?i(!1):i())}catch(a){return o(a)}});{let i=!1;const o=Object.values(t.children).map(a=>{if(n)return!1;const l=Te(a,e);return l===!1?n=!0:l instanceof Promise&&(i=!0),l});return i?new Promise(async(a,l)=>{try{return n||(await Promise.all(o)).some(d=>d===!1)?a(!1):a()}catch(c){return l(c)}}):n?!1:void 0}}return r()}const rs=0;function ss(t){return!(t.type!=="click"||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.button!==rs)}class te extends Error{constructor(e){super(e),this.name="SpaRouterError"}}class ot extends te{constructor(e){super(e),this.name="WindowEventConsolidationError"}}const ce="locationchange";let at=!1;const ns=window.history.pushState;function lt(...t){const e=ns.apply(window.history,t);return window.dispatchEvent(new Event(ce)),e}const is=window.history.replaceState;function ct(...t){const e=is.apply(window.history,t);return window.dispatchEvent(new Event(ce)),e}function os(){if(!at){if(window.history.pushState===lt)throw new ot("The consolidation module thinks that window events have not been consolidated yet but window.history.pushState has already been overridden. Does this module have two copies in your repo?");if(window.history.replaceState===ct)throw new ot("The consolidation module thinks that window events have not been consolidated yet but window.history.replaceState has already been overridden. Does this module have two copies in your repo?");at=!0,window.history.pushState=lt,window.history.replaceState=ct,window.addEventListener("popstate",()=>{window.dispatchEvent(new Event(ce))})}}function as(t){return Array.from(t.entries()).reduce((e,r)=>(e[r[0]]=r[1],e),{})}function ls(t){const e=Object.entries(t).reduce((r,s)=>{const n=`${s[0]}=${s[1]}`;return`${r}&${n}`},"");return new URLSearchParams(e)}function cs(t){const r=(t?window.location.pathname.replace(t,""):window.location.pathname).split("/").filter(o=>!!o),n=window.location.search?as(new URLSearchParams(window.location.search)):void 0,i=window.location.hash||void 0;return{paths:r,search:n,hash:i}}class us extends te{constructor(e){super(e),this.name="SanitizationDepthMaxed"}}function Jt(t,e){if(t.paths.join(" ")!==e.paths.join(" "))return!1;if(typeof t.search=="object"&&typeof e.search=="object"){const r=Object.entries(t.search).join(" "),s=Object.entries(e.search).join(" ");if(r!==s)return!1}else if(t.search!==e.search)return!1;return t.hash===e.hash}const ut=6;function dt(t,e){const r=t.getCurrentRawRoutes();if(t.sanitizationDepth>ut)throw new us(`Route sanitization depth has exceed the max of ${ut} with ${JSON.stringify(r)}`);const s=t.sanitizeFullRoute(r);if(Jt(s,r))t.sanitizationDepth=0,e?e(s):t.listeners.forEach(n=>{n(s)});else return t.sanitizationDepth++,t.setRoutes(s,!0)}class ve extends te{constructor(e){super(e),this.name="InvalidRouterInitParamsError"}}function ds(t){if("routeBase"in t&&typeof t.routeBase!="string"&&t.routeBase!=null)throw new ve(`Invalid type for router init params "routeBase" property. Expected string or undefined but got "${t.routeBase}" with type "${typeof t.routeBase}".`);if("routeSanitizer"in t&&typeof t.routeSanitizer!="function"&&t.routeSanitizer!=null)throw new ve(`Invalid type for router init params "routeSanitizer" property. Expected a function or undefined but got "${t.routeSanitizer}" with type "${typeof t.routeSanitizer}".`);if("maxListenerCount"in t&&(typeof t.maxListenerCount!="number"||isNaN(t.maxListenerCount))&&t.maxListenerCount!=null)throw new ve(`Invalid type for router init params "maxListenerCount" property. Expected a number or undefined but got "${t.maxListenerCount}" with type "${typeof t.maxListenerCount}".`)}function hs(t,e,r,s=!1){const n=Gt(t,e,r);s?window.history.replaceState(void 0,"",n):window.history.pushState(void 0,"",n)}function Gt(t,e,r=""){var s;if(!r&&e!=null)throw new te("Route base regexp was defined but routeBase string was not provided.");const n=fs(e)?`/${r}`:"",i=t.search?ls(t.search).toString():"",o=i?`?${i}`:"",a=!((s=t.hash)===null||s===void 0)&&s.startsWith("#")?"":"#",l=t.hash?`${a}${t.hash}`:"";return`${n}/${t.paths.join("/")}${o}${l}`}function fs(t){return!!(t&&window.location.pathname.match(t))}function ps(t={}){var e;ds(t),os();const r=(e=t.routeBase)===null||e===void 0?void 0:e.replace(/\/+$/,""),s=r?new RegExp(`^\\/${t.routeBase}`):void 0;let n=!1;const i={listeners:new Set,initParams:t,sanitizeFullRoute:o=>{const a={hash:void 0,search:void 0,...o};return t.routeSanitizer?t.routeSanitizer(a):a},setRoutes:(o,a=!1,l=!1)=>{const c=i.getCurrentRawRoutes(),d={...c,...o},u=i.sanitizeFullRoute(d);if(!(!l&&Jt(c,u)))return hs(u,s,r,a)},createRoutesUrl:o=>Gt(o,s,r),getCurrentRawRoutes:()=>cs(s),addRouteListener:(o,a)=>{if(t.maxListenerCount&&i.listeners.size>=t.maxListenerCount)throw new te(`Tried to exceed route listener max of ${t.maxListenerCount}.`);return i.listeners.add(a),n||(window.addEventListener(ce,()=>dt(i)),n=!0),o&&dt(i,a),a},hasRouteListener:o=>i.listeners.has(o),removeRouteListener:o=>i.listeners.delete(o),sanitizationDepth:0};return i}function ms(t){return ps({routeBase:t})}const ys={hash:void 0,paths:[],search:void 0},Zt=Lt()("change-page"),{defineElement:z,defineElementNoInputs:Ss}=Ir(),J=z()({tagName:"element-book-route-link",cssVars:{anchorPadding:""},styles:({cssVarValues:t})=>x`
        a {
            display: block;
            padding: ${t.anchorPadding};
            text-decoration: inherit;
            color: inherit;
            height: 100%;
            width: 100%;
        }
    `,renderCallback:({inputs:t,dispatch:e})=>{var s,n;const r=((n=t.router)==null?void 0:n.createRoutesUrl({...(s=t.router)==null?void 0:s.getCurrentRawRoutes(),...t.route}))??"#";return $`
            <a
                href=${r}
                ${Be("click",i=>{(!t.router||ss(i))&&(i.preventDefault(),window.scrollTo(0,0),e(new Zt(t.route)))})}
            >
                <slot></slot>
            </a>
        `}}),ge=z()({tagName:"element-book-nav",styles:x`
        :host {
            display: flex;
            flex-direction: column;
            padding: 16px 0;
            background-color: #f8f8f8;
        }

        .title-row:hover {
            background-color: #ccc;
        }

        .title-row {
            display: block;
            ${J.cssVarNames.anchorPadding}: 4px 24px 4px calc(calc(16px * var(--indent, 0)) + 24px);
        }

        ${J} {
            font-size: 20px;
        }

        ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .selected {
            background-color: #ddd;
        }
    `,renderCallback({inputs:t}){const e=Yt({indent:0,tree:t.tree,rootPath:[],router:t.router,selectedPath:t.selectedPath});return $`
            <ul>
                ${e}
            </ul>
        `}});function Yt({indent:t,tree:e,rootPath:r,selectedPath:s,router:n}){return e.children?Object.values(e.children).map(i=>{const o=r.concat(i.entry.title),a=Yt({indent:t+1,tree:i,rootPath:o,selectedPath:s,router:n});return $`
            <div class="nav-tree-entry" style="--indent: ${t};">
                <li class=${i.entry.type}>
                    <${J}
                        ${P(J,{router:n,route:{paths:o}})}
                        class=${_t({"title-row":!0,selected:Re(s,o)})}
                    >
                        ${i.entry.title}
                    </${J}>
                </li>
                ${a}
            </div>
        `}):[]}const $e=z()({tagName:"element-book-breadcrumbs",styles:x`
        :host {
            display: flex;
        }
    `,renderCallback:({inputs:t})=>t.currentRoute.paths.map((e,r)=>{const n=r>=t.currentRoute.paths.length-1?"":$`
                      &gt;
                  `;return $`
                ${e} ${n}
            `})}),we=z()({tagName:"element-book-example-controls",styles:x`
        :host {
            display: flex;
            color: #bbb;
            border-bottom: 1px solid currentColor;
            padding: 0 8px 4px;
        }

        :host(:hover) {
            color: black;
        }
    `,renderCallback({inputs:t}){return $`
            <span>
                ${t.example.title}
                <span></span>
            </span>
        `}}),ht=Symbol("unset-internal-state"),be=z()({tagName:"element-book-example-viewer",stateInit:{internalState:ht},renderCallback({state:t,inputs:e,updateState:r}){const s=e.parentBreadcrumbs.concat(e.example.title);t.internalState===ht&&r({internalState:e.example.stateInit});try{const n=e.example.render({state:t.internalState,updateState:i=>{r({internalState:{...t.internalState,...i}})}});return $`
                ${jt(!!e.example.styles,$`
                        <style>
                            ${e.example.styles}
                        </style>
                    `)}
                ${n}
            `}catch(n){return console.error(n),`${s.join(" > ")} failed: ${yt(n)}`}}}),re=z()({tagName:"element-book-entry-display",styles:x`
        :host {
            display: flex;
            flex-direction: column;
        }

        .title-bar {
            border-bottom: 1px solid #f8f8f8;
            padding: 4px 8px;
        }

        .examples-wrapper {
            padding: 32px;
            display: flex;
            gap: 32px;
            flex-wrap: wrap;
        }

        .individual-example-wrapper {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .hidden-controls {
            pointer-events: none;
            visibility: hidden;
        }
    `,renderCallback:({inputs:t})=>{const e=t.currentEntry.type===L.Page?t.currentEntry.examples:[],r=K(t.currentEntry,!0),s=vs(e,r);return $`
            <div class="title-bar">
                <${$e}
                    ${P($e,{currentRoute:t.currentRoute})}
                ></${$e}>
            </div>
            <div class="examples-wrapper">${s}</div>
        `}});function vs(t,e){const r=t.every(s=>s.hideControls);return t.map(s=>$`
            <div class="individual-example-wrapper">
                ${jt(!r,$`
                        <${we}
                            class=${_t({"hidden-controls":!!s.hideControls})}
                            ${P(we,{example:s})}
                        ></${we}>
                    `)}
                <${be}
                    ${P(be,{example:s,parentBreadcrumbs:e})}
                ></${be}>
            </div>
        `)}const _e=Ot()({tagName:"element-book-app",stateInit:{currentRoute:ys,router:void 0},styles:x`
        :host {
            display: block;
            height: 100%;
            width: 100%;
            font-family: sans-serif;
        }

        .root {
            height: 100%;
            width: 100%;
            display: flex;
        }

        ${re} {
            flex-grow: 1;
        }
    `,initCallback({updateState:t,state:e,inputs:r}){if(r.baseRoute&&!e.router){const s=ms(r.baseRoute);t({router:s}),s.addRouteListener(!0,n=>{t({currentRoute:n})})}},renderCallback:({state:t,inputs:e,updateState:r})=>{function s(o){t.router?t.router.setRoutes(o):r({currentRoute:{...t.currentRoute,...o}})}const n=cr(e.entries);if(!t.currentRoute.paths.length){const o=ts(n),a=e.defaultPath??(o.length?o:void 0);a&&a.length&&s({paths:a})}const i=gt(t.currentRoute.paths,n).entry;return $`
            <div
                class="root"
                ${Be(Zt,o=>{s(o.detail)})}
            >
                <${ge}
                    ${P(ge,{tree:n,router:t.router,selectedPath:t.currentRoute.paths})}
                ></${ge}>
                <${re}
                    ${P(re,{currentRoute:t.currentRoute,currentEntry:i})}
                ></${re}>
            </div>
        `}}),ft=mt({title:"my chapter 1"}),pt=mt({title:"my chapter 2"}),gs=[ft,pt,We({title:"test",parent:ft,examples:[{title:"example 1",render(){return"hi"}},{title:"example 2",hideControls:!0,render(){return"hi 2"}},{title:"example 3",stateInit:{yo:4},styles:x`
                    button {
                        border: 2px solid green;
                        background-color: white;
                        border-radius: 4px;
                        cursor: pointer;
                    }

                    :host {
                        display: flex;
                        align-items: center;
                        gap: 8px;
                    }
                `,render({state:t,updateState:e}){return $`
                        state: ${t.yo}
                        <button
                            ${Be("click",()=>{e({yo:t.yo+1})})}
                        >
                            click
                        </button>
                    `}}]}),We({title:"test 2",parent:pt,examples:[{title:"example 1",hideControls:!0,render(){return"hi"}},{title:"example 2",hideControls:!0,render(){return"hi"}}]})];le({tagName:"vir-app",styles:x`
        :host {
            display: block;
            height: 100%;
            width: 100%;
            box-sizing: border-box;
        }
    `,renderCallback:()=>$`
            <${_e} ${P(_e,{entries:gs})}></${_e}>
        `});
